{"version":3,"file":"response_panel.min.js","sources":["../src/response_panel.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript controller for the \"Grading\" panel at the right of the page\n *\n * @subpackage quizproctoring\n * @copyright  2020 Mahendra Soni <ms@taketwotechnologies.com> {@link https://taketwotechnologies.com}\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery', 'core/modal_factory', 'quizaccess_quizproctoring/modal_response', 'core/modal_events'],\nfunction($, ModalFactory, ModalResponse, ModalEvents) {\n\n    var ResponsePanel = function(responses) {\n        this.responses = responses;\n        this.registerEventListeners();\n    };\n\n    ResponsePanel.prototype.qid = null;\n    ResponsePanel.prototype.rid = null;\n    ResponsePanel.prototype.sec = null;\n    ResponsePanel.prototype.courseid = null;\n    ResponsePanel.prototype.responses = Array();\n    ResponsePanel.prototype.index = 0;\n    ResponsePanel.prototype.quizid = 0;\n    ResponsePanel.prototype.attemptid = 0;\n    ResponsePanel.prototype.userid = 0;\n    ResponsePanel.prototype.currentpage = 1;\n    ResponsePanel.prototype.firstPage = 1;\n    ResponsePanel.prototype.lastPage = 0;\n    ResponsePanel.prototype.tempindex = 0;\n    ResponsePanel.prototype.prevpage = 0;\n    ResponsePanel.prototype.temarrayprev = Array();\n    ResponsePanel.prototype.temarraynext = Array();\n    /**\n     * Register event listeners for the grade panel.\n     *\n     * @method registerEventListeners\n     */\n    ResponsePanel.prototype.registerEventListeners = function() {\n        var docElement = $(document);\n        docElement.on('next', this._getNextUser.bind(this));\n        docElement.on('prev', this._getPreviousUser.bind(this));\n    };\n\n    /**\n     * Reset buttons method\n     */\n    ResponsePanel.prototype._reset = function() {\n        if (this.responses.length) {\n            var isFirst = this.index === 0;\n            var isLast = this.responses.length === this.index + 1;\n            if (isFirst) {\n                if (this.firstPage == this.currentpage) {\n                    $('[data-action=\"previous\"]').prop(\"disabled\", \"disabled\");\n                } else {\n                    $('[data-action=\"previous\"]').prop(\"disabled\", false);\n                }\n                $('[data-action=\"next\"]').prop(\"disabled\", false);\n            } else if (isLast) {\n                if (this.currentpage == this.lastpage) {\n                    $('[data-action=\"next\"]').prop(\"disabled\", \"disabled\");\n                } else {\n                    $('[data-action=\"next\"]').prop(\"disabled\", false);\n                }\n                $('[data-action=\"previous\"]').prop(\"disabled\", false);\n            } else {\n                $('[data-action=\"previous\"]').prop(\"disabled\", false);\n                $('[data-action=\"next\"]').prop(\"disabled\", false);\n            }\n        }\n    };\n\n    /**\n     * First page settings\n     *\n     */\n     ResponsePanel.prototype._isFirstPage = function() {\n        var insidethid = this;\n        $.ajax({\n            url: M.cfg.wwwroot + '/mod/quiz/accessrule/quizproctoring/ajax_report.php',\n            data: {\n                attemptid: this.attemptid,\n                userid: this.userid,\n                quizid: this.quizid,\n                currentpage: (this.currentpage - 2)\n            },\n            dataType: 'json',\n            success: function(response) {\n                var images = JSON.parse(JSON.stringify(response));\n                insidethid.temarrayprev = images;\n                insidethid.prevpage = 1;\n            }\n        });\n     };\n\n     /**\n      * Last page settings\n      *\n      */\n    ResponsePanel.prototype._isLastPage = function() {\n        var insidethid = this;\n        $.ajax({\n            url: M.cfg.wwwroot + '/mod/quiz/accessrule/quizproctoring/ajax_report.php',\n            data: {\n                attemptid: this.attemptid,\n                userid: this.userid,\n                quizid: this.quizid,\n                currentpage: this.currentpage\n            },\n            dataType: 'json',\n            success: function(response) {\n                var images = JSON.parse(JSON.stringify(response));\n                insidethid.temarraynext = images;\n                if (images[0]) {\n                    insidethid.tempindex = 1;\n                }\n            }\n        });\n    };\n\n    /**\n     * Get next user to process\n     *\n     * @method _getNextUser\n     */\n    ResponsePanel.prototype._getNextUser = function() {\n        if (this.tempindex) {\n            this.index = -1;\n            this.responses = this.temarraynext;\n            this.currentpage += 1;\n        }\n        this.tempindex = 0;\n        this.prevpage = 0;\n        this.index += 1;\n        this._reset();\n        var res = this.responses[this.index];\n        if (res) {\n            $(\".imgheading\").html(res.title);\n            $(\".userimg\").attr(\"src\", res.img);\n        }\n        var isFirst = this.index === 0;\n        if (isFirst) {\n            this._isFirstPage();\n        }\n        var isLast = this.responses.length === this.index + 1;\n        if (isLast) {\n            this._isLastPage();\n        }\n\n    };\n\n    /**\n     * Get previous user to process\n     *\n     * @method _getNextUser\n     */\n    ResponsePanel.prototype._getPreviousUser = function() {\n        if (this.tempindex) {\n            this.index = 18;\n        } else {\n            this.index -= 1;\n        }\n\n        if (this.prevpage) {\n            this.index = 19;\n            this.responses = this.temarrayprev;\n            this.currentpage -= 1;\n        }\n        this.prevpage = 0;\n        this.tempindex = 0;\n        this._reset();\n        var res = this.responses[this.index];\n        if (res) {\n            $(\".imgheading\").html(res.title);\n            $(\".userimg\").attr(\"src\", res.img);\n        }\n        var isFirst = this.index === 0;\n        if (isFirst) {\n            this._isFirstPage();\n        }\n\n        var isLast = this.responses.length === this.index + 1;\n        if (isLast) {\n            this._isLastPage();\n        }\n\n    };\n\n    var init = function(attemptid = null, quizid = null, userid = null, useridentity = null, externalserver, videofilePath = null, $proctoringimageshow, $proctoringrecording) {\n        var docElement = $(document);\n        docElement.ready(function() {\n            if($proctoringimageshow == 1) {\n                let btn = document.createElement(\"button\");\n                btn.innerHTML = M.util.get_string('proctoringimages', 'quizaccess_quizproctoring');\n                btn.setAttribute(\"type\", \"button\");\n                btn.setAttribute(\"value\", \"proctoringimage\");\n                btn.setAttribute(\"class\", \"proctoringimage btn btn-primary\");\n                btn.setAttribute(\"data-attemptid\", attemptid);\n                btn.setAttribute(\"data-quizid\", quizid);\n                btn.setAttribute(\"data-userid\", userid);\n                document.getElementById(\"page-content\").prepend(btn);\n            }\n            if (useridentity && useridentity != 0) {\n                let btnidentity = document.createElement(\"button\");\n                btnidentity.innerHTML = M.util.get_string('proctoringidentity', 'quizaccess_quizproctoring');\n                btnidentity.setAttribute(\"type\", \"button\");\n                btnidentity.setAttribute(\"value\", \"proctoridentity\");\n                btnidentity.setAttribute(\"class\", \"proctoridentity btn btn-primary\");\n                btnidentity.setAttribute(\"data-attemptid\", attemptid);\n                btnidentity.setAttribute(\"data-quizid\", quizid);\n                btnidentity.setAttribute(\"data-userid\", userid);\n                document.getElementById(\"page-content\").prepend(btnidentity);\n            }\n            if($proctoringrecording == 1) {\n                let btnsavevideo = document.createElement(\"button\");\n                btnsavevideo.innerHTML = M.util.get_string('proctoringvideo', 'quizaccess_quizproctoring');\n                btnsavevideo.setAttribute(\"type\", \"button\");\n                btnsavevideo.setAttribute(\"value\", \"proctoringvideo\");\n                btnsavevideo.setAttribute(\"class\", \"proctoringvideo btn btn-primary\");            \n                btnsavevideo.setAttribute(\"id\", \"proctoringvideo\");\n                btnsavevideo.setAttribute(\"data-attemptid\", attemptid);\n                btnsavevideo.setAttribute(\"data-quizid\", quizid);\n                btnsavevideo.setAttribute(\"data-userid\", userid);\n                document.getElementById(\"page-content\").prepend(btnsavevideo);\n            }\n        });\n        docElement.on('click', 'button.proctoringimage', function(e) {\n            e.preventDefault();\n            var quizid = $(this).data('quizid');\n            var userid = $(this).data('userid');\n            var attemptid = $(this).data('attemptid');\n            $.ajax({\n                url: M.cfg.wwwroot + '/mod/quiz/accessrule/quizproctoring/ajax_report.php',\n                data: {\n                    attemptid: $(this).data('attemptid'),\n                    userid: $(this).data('userid'),\n                    quizid: $(this).data('quizid')\n                },\n                dataType: 'json',\n                success: function(response) {\n                    var images = JSON.parse(JSON.stringify(response));\n                    if (images.length > 0) {\n                        var rp = new ResponsePanel(images);\n                        rp.quizid = quizid;\n                        rp.userid = userid;\n                        rp.attemptid = attemptid;\n                        rp.lastpage = rp.responses[rp.index].totalpage;\n                        return ModalFactory.create({\n                            type: ModalResponse.TYPE,\n                        }).then(function(modal) {\n                            modal.getRoot().on(ModalEvents.hidden, modal.destroy.bind(modal));\n                            modal.setTitle('User Images');\n                            modal.show();\n                            $(\".imgheading\").html(rp.responses[rp.index].title);\n                            $(\".userimg\").attr(\"src\", rp.responses[rp.index].img);\n                            if (rp.responses[rp.index].total == 1) {\n                                $('[data-action=\"next\"]').prop(\"disabled\", \"disabled\");\n                            }\n                            return null;\n                        });\n                    } else {\n                        var message = M.util.get_string('noimageswarning', 'quizaccess_quizproctoring');\n                        return ModalFactory.create({\n                            type: ModalFactory.types.DEFAULT,\n                            body: message,\n                        }).then(function(modal) {\n                            modal.getRoot().on(ModalEvents.hidden, modal.destroy.bind(modal));\n                            modal.show();\n                            return null;\n                        });\n                    }\n                }\n            });\n        });\n        docElement.on('click', 'button.proctoridentity', function(e) {\n            e.preventDefault();\n            $.ajax({\n                url: M.cfg.wwwroot + '/mod/quiz/accessrule/quizproctoring/proctoridentity.php',\n                data: {\n                    attemptid: $(this).data('attemptid'),\n                    userid: $(this).data('userid'),\n                    quizid: $(this).data('quizid')\n                },\n                dataType: 'json',\n                success: function(response) {\n                    var residentity = JSON.parse(JSON.stringify(response));\n                    if (residentity.success) {\n                        window.open(residentity.url, \"_blank\");\n                    } else {\n                        return ModalFactory.create({\n                            type: ModalFactory.types.DEFAULT,\n                            body: residentity.message,\n                        }).then(function(modal) {\n                            modal.getRoot().on(ModalEvents.hidden, modal.destroy.bind(modal));\n                            modal.show();\n                            return null;\n                        });\n                    }\n                    return true;\n                }\n            });\n        });\n        docElement.on('click', 'button.proctoringvideo', function(e) {\n            e.preventDefault();\n            $(\".proctoringvideo\").prop(\"disabled\", true);\n            $('#page-wrapper').append('<img src=\"/mod/quiz/accessrule/quizproctoring/pix/loading.gif\" id=\"loading\">');\n            $('#loading').show();\n            var path =  location.protocol + '//' + location.host + \"/mod/quiz/accessrule/quizproctoring/uploads/\";\n            $.ajax({\n                url: M.cfg.wwwroot + '/mod/quiz/accessrule/quizproctoring/video_report.php',\n                data: {                    \n                    attemptid: $(this).data('attemptid'),\n                    userid: $(this).data('userid'),\n                    quizid: $(this).data('quizid'),\n                    externalurl: path\n                },\n                dataType: 'json',\n                success: function(response) {\n                    var image_x = document.getElementById('loading');\n                    image_x.parentNode.removeChild(image_x);\n                    if (response.success) {                        \n                        var videopath =  location.protocol + '//' + location.host + \"/mod/quiz/accessrule/quizproctoring/uploads/\" + response.videoname;\n                        console.log(videopath);\n                        var modalHtml ='<div id=\"myModal\" class=\"modalvideo\"><span class=\"close\">&times;</span><div id=\"videoscrollbox\" class=\"modalvideo-content\"></div></div>';\n                        $(\"body\").append(modalHtml);\n                        var modal = document.getElementById(\"myModal\");\n                        var videoscrollbox = document.getElementById(\"videoscrollbox\");\n                        // Create an element <video>\n                        var v = document.createElement (\"video\");\n                        // Set the attributes of the video\n                        v.src = videopath;\n                        v.controls = true;\n                        v.muted = false;\n                        // Add the video to <div>\n                        videoscrollbox.appendChild (v);\n                        modal.style.display = \"block\";\n                    } else {\n                        return ModalFactory.create({\n                            type: ModalFactory.types.DEFAULT,\n                            body: response.message,\n                        }).then(function(modal) {\n                            modal.getRoot().on(ModalEvents.hidden, modal.destroy.bind(modal));\n                            modal.show();\n                            return null;\n                        });\n                    }\n                }\n            });                \n        });\n\n        $(document).on('click', '.close', function (e) {        \n            e.preventDefault();\n            document.getElementById('proctoringvideo').removeAttribute('disabled');\n            var modal = document.getElementById(\"myModal\");\n            modal.style.display = \"none\";\n            modal.remove();\n        });\n        $(document).keydown(function(e) {\n            // ESCAPE key pressed\n            if (e.keyCode == 27) {\n                document.getElementById('proctoringvideo').removeAttribute('disabled');\n                var modal = document.getElementById(\"myModal\");\n                modal.remove();\n            }\n        });\n    };\n\n    return {\n        init: init\n    };\n});\n"],"names":["define","$","ModalFactory","ModalResponse","ModalEvents","ResponsePanel","responses","registerEventListeners","prototype","qid","rid","sec","courseid","Array","index","quizid","attemptid","userid","currentpage","firstPage","lastPage","tempindex","prevpage","temarrayprev","temarraynext","docElement","document","on","this","_getNextUser","bind","_getPreviousUser","_reset","length","isFirst","isLast","prop","lastpage","_isFirstPage","insidethid","ajax","url","M","cfg","wwwroot","data","dataType","success","response","images","JSON","parse","stringify","_isLastPage","res","html","title","attr","img","init","useridentity","$proctoringimageshow","$proctoringrecording","ready","btn","createElement","innerHTML","util","get_string","setAttribute","getElementById","prepend","btnidentity","btnsavevideo","e","preventDefault","rp","totalpage","create","type","TYPE","then","modal","getRoot","hidden","destroy","setTitle","show","total","message","types","DEFAULT","body","residentity","window","open","append","path","location","protocol","host","externalurl","image_x","parentNode","removeChild","videopath","videoname","console","log","videoscrollbox","v","src","controls","muted","appendChild","style","display","removeAttribute","remove","keydown","keyCode"],"mappings":"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"}