!function(){let w=null;const g=3e3;let n=0;const i=5e3;function f(e,t,a){Date.now(),Date.now()-n>i&&(n=Date.now(),a({status:e,data:t}))}window.setupFaceMesh=async function(t,d,h){const y=d.getContext("2d");for(var e=t;0===e.videoWidth||0===e.videoHeight;)await new Promise(e=>setTimeout(e,100));await 0;const a=new FaceMesh({locateFile:e=>"https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh@0.4/"+e});a.setOptions({maxNumFaces:5,refineLandmarks:!0}),a.onResults(e=>{y.save(),y.clearRect(0,0,d.width,d.height),y.drawImage(e.image,0,0,d.width,d.height);var t,a,n=d.toDataURL("image/png"),i={status:"",data:n};if(1===e.multiFaceLandmarks?.length){e=e.multiFaceLandmarks[0];t=n,a=h,c=(r=e)[159],l=r[145],m=r[386],s=r[374],o=r[234],u=r[454],r=r[1],c&&l&&m&&s&&o&&u&&r?(o=Math.abs(c.y-l.y),u=Math.abs(m.y-s.y),l=o<.015&&u<.015,c.y,m.y,r.y,l&&!w?w=setTimeout(()=>{f("eyesnotopen",t,a),w=null},g):!l&&w&&(clearTimeout(w),w=null)):f("eyesnotopen",t,a);var s=n,o=h,c=(u=e)[468],m=u[133],r=u[33],l=u[159],u=u[145];if(c&&m&&r&&l&&u){c=(c.x-m.x)/(r.x-m.x);l.y,u.y;let e="center";c<.3?e="left":.7<c&&(e="right"),"center"!==e&&f("eyesnotopen",s,o)}}y.restore(),h(i)}),async function e(){await a.send({image:t}),requestAnimationFrame(e)}()}}();