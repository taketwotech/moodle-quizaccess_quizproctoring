!function(){let w=null;const g=3e3;let n=0;const i=5e3;function f(e,t,a){Date.now(),Date.now()-n>i&&(n=Date.now(),a({status:e,data:t}))}window.setupFaceMesh=async function(t,d,a,y){const h=d.getContext("2d");for(var e=t;0===e.videoWidth||0===e.videoHeight;)await new Promise(e=>setTimeout(e,100));await 0,a.setOptions({maxNumFaces:5,refineLandmarks:!0}),a.onResults(e=>{h.save(),h.clearRect(0,0,d.width,d.height),h.drawImage(e.image,0,0,d.width,d.height);var t,a,n=d.toDataURL("image/png"),i={status:"",data:n};if(1===e.multiFaceLandmarks?.length){e=e.multiFaceLandmarks[0];t=n,a=y,r=(u=e)[159],m=u[145],c=u[386],s=u[374],o=u[234],l=u[454],u=u[1],r&&m&&c&&s&&o&&l&&u?(o=Math.abs(r.y-m.y),l=Math.abs(c.y-s.y),m=o<.015&&l<.015,r.y,c.y,u.y,m&&!w?w=setTimeout(()=>{f("eyesnotopen",t,a),w=null},g):!m&&w&&(clearTimeout(w),w=null)):f("eyesnotopen",t,a);var s=n,o=y,r=(l=e)[468],c=l[133],u=l[33],m=l[159],l=l[145];if(r&&c&&u&&m&&l){r=(r.x-c.x)/(u.x-c.x);m.y,l.y;let e="center";r<.3?e="left":.7<r&&(e="right"),"center"!==e&&f("eyesnotopen",s,o)}}h.restore(),y(i)}),async function e(){await a.send({image:t}),requestAnimationFrame(e)}()}}();